<!DOCTYPE html>
<html lang="zh_cn">
<head>
        <title>Eleven.I386's Blog</title>
        <meta charset="utf-8" />
        <link href="http://eleveni386.7axu.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Eleven.I386's Blog Full Atom Feed" />
        <link href="http://eleveni386.7axu.com/feeds/rss.xml" type="application/atom+xml" rel="alternate" title="Eleven.I386's Blog Atom Feed" />
        <link href="http://eleveni386.7axu.com/feeds/linuxyun-wei.atom.xml" type="application/atom+xml" rel="alternate" title="Eleven.I386's Blog Categories Atom Feed" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://eleveni386.7axu.com">Eleven.I386's Blog <strong></strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
        </ul></nav><!-- /#menu -->
<section id="content">
<h2>Articles in the Linux运维 category</h2>

<ol id="post-list">
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="http://eleveni386.7axu.com/posts/2013/05/17/kangle-zuo-httpni-ming-dai-li/" rel="bookmark" title="Permalink to Kangle 做HTTP匿名代理">Kangle 做HTTP匿名代理</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2013-05-17T00:00:00"> 五 17 五月 2013 </abbr>
<address class="vcard author">By <a class="url fn" href="http://eleveni386.7axu.com/author/eleveni386.html">eleven.i386</a></address>                </footer><!-- /.post-info -->
                <div class="entry-content"> <blockquote>
<p>kangle web服务器（简称：kangle）是一款跨平台、功能强大、安全稳定、
易操作的高性能web服务器和反向代理服务器软件。除此：kangle也是一款专为做虚拟主机
研发的web服务器。实现虚拟主机独立进程、独立身份运行。用户之间安全隔离，一个用户
出问题不影响其他用户。安全支持php、asp、asp·net、java、ruby等多种动态开发语言。
                                                        百度百科</p>
</blockquote>
<h2>安装</h2>
<p>下载源码
  <code>wget http://www.kanglesoft.com/download/src/kangle-3.2.3.tar.gz</code></p>
<p>编译环境</p>
<p><code>apt-get install build-essential</code></p>
<p>安装pcre库</p>
<p><code>apt-get install libpcre++-dev</code></p>
<p>安装ssl库</p>
<p><code>apt-get install libssl-dev ...</code></p> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="http://eleveni386.7axu.com/posts/2013/04/25/wang-qia-zhong-duan-bang-ding/" rel="bookmark" title="Permalink to 网卡中断绑定">网卡中断绑定</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2013-04-25T00:00:00"> 四 25 四月 2013 </abbr>
<address class="vcard author">By <a class="url fn" href="http://eleveni386.7axu.com/author/eleveni386.html">eleven.i386</a></address>                </footer><!-- /.post-info -->
                <div class="entry-content"> <blockquote>
<p>中断亲和力是指将一个或多个中断源绑定到特定的 CPU 上运行</p>
</blockquote>
<h2>操作</h2>
<p><a href="http://liuxin1982.blog.51cto.com/4338970/1019825">参考</a></p>
<p>今天我是来吐槽该文中的一个shell脚本</p>
<div class="highlight"><pre><span class="cp"># setting up irq affinity according to /proc/interrupts</span>
<span class="cp"># 2008-11-25 Robert Olsson</span>
<span class="cp"># 2009-02-19 updated by Jesse Brandeburg</span>
<span class="cp">#</span>
<span class="cp"># &gt; Dave Miller:</span>
<span class="cp"># (To get consistent naming in /proc/interrups)</span>
<span class="cp"># I would suggest that people use something like:</span>
<span class="cp"># char buf[IFNAMSIZ+6];</span>
<span class="cp">#</span>
<span class="cp"># sprintf(buf, &quot;%s-%s-%d&quot;,</span>
<span class="cp">#         netdev-&gt;name ...</span></pre></div> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="http://eleveni386.7axu.com/posts/2013/03/29/ji-ci-ddosgong-ji-dao-zhi-fu-wu-qi-si-ji/" rel="bookmark" title="Permalink to 记. 一次ddos攻击,导致服务器死机">记. 一次ddos攻击,导致服务器死机</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2013-03-29T00:00:00"> 五 29 三月 2013 </abbr>
<address class="vcard author">By <a class="url fn" href="http://eleveni386.7axu.com/author/eleveni386.html">eleven.i386</a></address>                </footer><!-- /.post-info -->
                <div class="entry-content"> <h2>背景</h2>
<p>某年某月某天,eleven所属单位 被未知生物ddos攻击, 攻击时间 凌晨00:15 左右, 
eleven不在现场.其他同事处理的, 第二天eleven来到公司, 接到上面命令找出服务器弱点.
同时还原攻击现场,</p>
<h2>检查</h2>
<p>通过<strong>Zenoss</strong>监控图, 看见在00:15左右, 突然进来了大量的数据包, 大概40w左右, 
但是流量没有明显异常(即没有瞬间增高), 好吧, 看见这个现象就猜到了.. 小包<strong>DDos</strong>攻击.
通过服务器的message日志里面看见了<em>syn flood on 80</em> 记录,结合监控图上的大量数据包,
断定服务器被人采用<strong>syn半开攻击</strong>手法给攻击</p>
<h2>服务器配置</h2>
<p>观察了服务器的内核参数配置,因为我记得我们所有服务器都有对于<strong>syn flood</strong>的防御策略,
在sysctl.conf里面<strong>syn_cookies</strong>已经开启, 而且也看见syn队列增加到了1w6, 
按理来说单纯的半开攻击应该对于我们机器是无压力的说 ...</p> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="http://eleveni386.7axu.com/posts/2012/10/18/nginx-shuang-ji-re-bei-shi-zhan/" rel="bookmark" title="Permalink to nginx 双机热备-实战">nginx 双机热备-实战</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2012-10-18T00:00:00"> 四 18 十月 2012 </abbr>
<address class="vcard author">By <a class="url fn" href="http://eleveni386.7axu.com/author/eleveni386.html">eleven.i386</a></address>                </footer><!-- /.post-info -->
                <div class="entry-content"> <p>上次发布了<em>nginx</em>做负载均衡器使用, 这次在原有的基础上加上了 <strong>双机热备</strong>
另外,此篇文章做为引子,为的是引导使用<strong>keepalived</strong>文中的配置,请酌情修改
这只是一个简单的<strong>keepalived</strong>应用, 关于文中使用到的<strong>keepalived</strong>参数很少, 
更多的内容看blog中的keepalived配置文件详解 那篇文章</p>
<p>首先上一个 <strong>nginx高可用</strong> 架构图</p>
<p><img alt="" src="/image/2012-10-18-163233-300x225.png" /></p>
<h2>配置</h2>
<p>总共两台机器 A , B</p>
<p>在A,B机器上面 配置好 nginx调度器, 相同的配置.</p>
<p>A nginx 跑在 eth0 192.168.2.12 上</p>
<p>B nginx 跑在 eth0 192.168.2.11 上</p>
<p>在A ...</p> </div><!-- /.entry-content -->
        </article></li>
        <li><article class="hentry">
                <header> <h2 class="entry-title"><a href="http://eleveni386.7axu.com/posts/2012/10/16/keepalivedyuan-li-yu-shi-zhan-jing-jiang/" rel="bookmark" title="Permalink to Keepalived原理与实战精讲">Keepalived原理与实战精讲</a></h2> </header>
                <footer class="post-info">
                    <abbr class="published" title="2012-10-16T00:00:00"> 二 16 十月 2012 </abbr>
<address class="vcard author">By <a class="url fn" href="http://eleveni386.7axu.com/author/eleveni386.html">eleven.i386</a></address>                </footer><!-- /.post-info -->
                <div class="entry-content"> <p><strong>此为转贴</strong>
<a href="http://bbs.ywlm.net/thread-845-1-1.html">原文地址</a></p>
<p><img alt="" src="/image/Keepalived.png" /></p> </div><!-- /.entry-content -->
        </article></li>
</ol><!-- /#posts-list -->
<p class="paginator">
        <a href="http://eleveni386.7axu.com/category/linuxyun-wei.html">&laquo;</a>
    Page 2 / 3
        <a href="http://eleveni386.7axu.com/category/linuxyun-wei3.html">&raquo;</a>
</p>
</section><!-- /#content -->
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>