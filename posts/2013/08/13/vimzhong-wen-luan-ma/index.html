<!DOCTYPE html>
<html lang="zh_cn">
<head>


    <meta name="tags" contents="vim" />
    <meta name="tags" contents="中文编码" />
    <meta name="tags" contents="linux" />

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://eleveni386.7axu.com">Eleven.I386's Blog <strong></strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="http://eleveni386.7axu.com/posts/2013/08/13/vimzhong-wen-luan-ma/" rel="bookmark"
         title="Permalink to vim中文乱码">vim中文乱码</a></h2>
 
  </header>
  <footer class="post-info">
    <abbr class="published" title="2013-08-13T00:00:00">
      二 13 八月 2013
    </abbr>
    <address class="vcard author">
      By <a class="url fn" href="http://eleveni386.7axu.com/author/eleveni386.html">eleven.i386</a>
    </address>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>今天 用本地客户端登录服务器编辑文件时, 出现中文乱码 表现为 某些字符正常显示, 某些又显示乱码, 有图有真相</p>
<p><img alt="" src="/image/DeepinScrot-3437-300x30.png" /></p>
<p>如图所示, 部分能显示出来,部分无法显示出来</p>
<p>用SecureCRT登录时,没有任何问题, 一开始以为是自己本地xfce-terminal字符编码问题,
结果更换了几个终端都是同样的结果,gnome-terminal, xterm 都尝试过.. 看来问题还是服务器本身</p>
<p>在服务器上输入<code>locale</code> </p>
<div class="highlight"><pre><span class="n">locale</span><span class="o">:</span> <span class="n">Cannot</span> <span class="kd">set</span> <span class="n">LC_CTYPE</span> <span class="n">to</span> <span class="k">default</span> <span class="n">locale</span><span class="o">:</span> <span class="n">No</span> <span class="n">such</span> <span class="n">file</span> <span class="n">or</span> <span class="n">directory</span>
<span class="n">locale</span><span class="o">:</span> <span class="n">Cannot</span> <span class="kd">set</span> <span class="n">LC_MESSAGES</span> <span class="n">to</span> <span class="k">default</span> <span class="n">locale</span><span class="o">:</span> <span class="n">No</span> <span class="n">such</span> <span class="n">file</span> <span class="n">or</span> <span class="n">directory</span>
<span class="n">locale</span><span class="o">:</span> <span class="n">Cannot</span> <span class="kd">set</span> <span class="n">LC_ALL</span> <span class="n">to</span> <span class="k">default</span> <span class="n">locale</span><span class="o">:</span> <span class="n">No</span> <span class="n">such</span> <span class="n">file</span> <span class="n">or</span> <span class="n">directory</span>
<span class="n">LANG</span><span class="o">=</span><span class="n">en_US</span><span class="o">.</span><span class="na">UTF</span><span class="o">-</span><span class="mi">8</span>
<span class="n">LANGUAGE</span><span class="o">=</span><span class="n">en_US</span><span class="o">:</span><span class="n">en</span>
<span class="n">LC_CTYPE</span><span class="o">=</span><span class="n">zh_CN</span><span class="o">.</span><span class="na">UTF</span><span class="o">-</span><span class="mi">8</span>
<span class="n">LC_NUMERIC</span><span class="o">=</span><span class="s2">&quot;en_US.UTF-8&quot;</span>
<span class="n">LC_TIME</span><span class="o">=</span><span class="s2">&quot;en_US.UTF-8&quot;</span>
<span class="n">LC_COLLATE</span><span class="o">=</span><span class="n">zh_CN</span><span class="o">.</span><span class="na">UTF</span><span class="o">-</span><span class="mi">8</span>
<span class="n">LC_MONETARY</span><span class="o">=</span><span class="s2">&quot;en_US.UTF-8&quot;</span>
<span class="n">LC_MESSAGES</span><span class="o">=</span><span class="n">zh_CN</span><span class="o">.</span><span class="na">UTF</span><span class="o">-</span><span class="mi">8</span>
<span class="n">LC_PAPER</span><span class="o">=</span><span class="s2">&quot;en_US.UTF-8&quot;</span>
<span class="n">LC_NAME</span><span class="o">=</span><span class="s2">&quot;en_US.UTF-8&quot;</span>
<span class="n">LC_ADDRESS</span><span class="o">=</span><span class="s2">&quot;en_US.UTF-8&quot;</span>
<span class="n">LC_TELEPHONE</span><span class="o">=</span><span class="s2">&quot;en_US.UTF-8&quot;</span>
<span class="n">LC_MEASUREMENT</span><span class="o">=</span><span class="s2">&quot;en_US.UTF-8&quot;</span>
<span class="n">LC_IDENTIFICATION</span><span class="o">=</span><span class="s2">&quot;en_US.UTF-8&quot;</span>
<span class="n">LC_ALL</span><span class="o">=</span>
</pre></div>


<p>发现<strong>Cannot set LC_CTYPE to default locale: No such file or director</strong>之类的,
我们服务器安装的时候 都是选择英文的安装方式, 按理来说不会出现zh_CN的字符集才对,
这里不知道为啥会出现它们, 将它们修改为en_US,立刻就好了</p>
<p><code>export LC_ALL=en_US.UTF-8</code>  </p>
<p>为了下次登录不必设置, 将它加入.bashrc  </p>
<p><code>echo "export LC_ALL=en_US.UTF-8 &gt;&gt; .bashrc</code></p>
<p>写完这篇blog, 去找了一下linux字符集相关资料, 在ubuntuwiki上找到了<a href="http://wiki.ubuntu.org.cn/Locale#.E4.B8.80.E3.80.81.E4.B8.BA.E4.BB.80.E4.B9.88.E8.A6.81.E8.AE.BE.E5.AE.9Alocale">Locale</a> 文章, 温习了一下字符集相关知识</p>
  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>